<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>GUFA – Home</title>

  <!-- Brand font for GUFA -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700;800&display=swap" rel="stylesheet"/>

  <!-- Global styles (uses ../images/background.jpg site-wide) -->
  <link rel="stylesheet" href="customer/styles.css"/>
</head>
<body>
  <!-- Header / Navbar -->
  <header class="site-header">
    <div class="logo">GUFA</div>
    <nav class="nav-links">
      <a href="index.html" class="active">Home</a>
      <a href="#menu">Menu</a>
      <a href="customer/track.html">Track Order</a>
      <a href="#contact">Contact</a>
      <a href="customer/checkout.html" class="cart-link" id="cartLink">Cart (0)</a>
    </nav>
  </header>

  <!-- Compact promo strip (can be filled from Firestore promotions) -->
  <section id="promos" aria-label="Promotions"></section>

  <!-- Menu -->
  <main>
    <section id="menu" aria-labelledby="menuTitle">
      <h2 id="menuTitle">Our Menu</h2>

      <!-- Primary toggles (both Veg & Non-Veg can be OFF) -->
      <div class="primary-filters" role="group" aria-label="Primary Filters">
        <button id="vegToggle" class="pill-toggle veg on" aria-pressed="true">Veg</button>
        <button id="nonvegToggle" class="pill-toggle nonveg on" aria-pressed="true">Non-Veg</button>
        <span class="spacer"></span>
        <button id="courseToggle" class="pill-toggle course on" aria-pressed="true">Food Course</button>
        <button id="categoryToggle" class="pill-toggle category on" aria-pressed="true">Food Categories</button>
      </div>

      <!-- Bifurcations (always visible; collages clickable) -->
      <div class="bucket-group">
        <div class="bucket-header">Food Courses</div>
        <div id="courseBuckets" class="bucket-grid" aria-label="Food Courses"></div>
      </div>

      <div class="bucket-group">
        <div class="bucket-header">Food Categories</div>
        <div id="categoryBuckets" class="bucket-grid" aria-label="Food Categories"></div>
      </div>

      <!-- Search only (dropdowns removed as requested) -->
      <div class="filters" aria-label="Search">
        <input type="text" id="filter-search" placeholder="Search dishes..."/>
      </div>

      <!-- Grid -->
      <div class="menu-grid" id="menuGrid" aria-live="polite">
        <div class="menu-item placeholder skeleton">Loading menu…</div>
        <div class="menu-item placeholder skeleton">Loading menu…</div>
        <div class="menu-item placeholder skeleton">Loading menu…</div>
        <div class="menu-item placeholder skeleton">Loading menu…</div>
      </div>
    </section>
  </main>

  <!-- Footer (kept intact for contact information) -->
  <footer id="contact">
    <p>📍 Address: Your restaurant address here</p>
    <p>📞 Phone: +91 99999 99999</p>
    <p>&copy; 2025 GUFA – All Rights Reserved</p>
  </footer>

  <!-- Progressive enhancement: message if JS disabled -->
  <noscript>
    <style>.menu-grid .placeholder{display:none}</style>
    <div style="max-width:1200px;margin:16px auto;padding:12px;background:#fff;border:1px solid #e5e7eb;border-radius:8px;">
      Please enable JavaScript to view the menu.
    </div>
  </noscript>

  <!-- Customer UI logic (order matters) -->
  <script type="module" src="customer/firebase.client.js"></script>
  <script type="module" src="customer/app.cart.js"></script>
  <script type="module" src="customer/app.menu.js"></script>
</body>
</html>
