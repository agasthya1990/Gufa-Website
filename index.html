<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>GUFA ‚Äì Home</title>

  <!-- Brand font for GUFA -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700;800&display=swap" rel="stylesheet"/>

  <!-- Global styles (customer/styles.css uses ../images/background.jpg) -->
  <link rel="stylesheet" href="customer/styles.css"/>
</head>
<body>
  <!-- Header / Navbar -->
  <header class="site-header">
    <div class="logo">GUFA</div>
    <!-- NEW: Service mode toggle group (static UI only) -->
  <div class="service-mode" role="group" aria-label="Service Mode">
    <button class="switch delivery on" role="switch" aria-checked="true" aria-label="Delivery">
      <span class="track"></span><span class="knob"></span><span class="label">Delivery</span>
    </button>
    <button class="switch dining" role="switch" aria-checked="false" aria-label="Dining">
      <span class="track"></span><span class="knob"></span><span class="label">Dining</span>
    </button>
  </div>
    <nav class="nav-links">
      <a href="/">Home</a>
      <a href="#menu">Menu</a>
      <a href="customer/track.html">Track Order</a>
      <a href="#contact">Contact</a>
      <a href="customer/checkout.html" class="cart-link" id="cartLink">Cart (0)</a>
    </nav>
  </header>

  <!-- Optional promo strip -->
  <section id="promos" aria-label="Promotions"></section>

  <!-- Menu -->
  <main>
    <section id="menu" aria-labelledby="menuTitle">
      <h2 id="menuTitle">Our Menu</h2>

      <!-- Primary bar (home): Veg/Non-Veg switches + nav chips + search -->
      <div class="primary-bar" role="group" aria-label="Filters and Search">
        <div class="primary-filters">
          <!-- Switches (both OFF by default; opt-in filters) -->
          <button id="vegSwitch" class="switch veg" role="switch" aria-checked="false" aria-label="Veg">
            <span class="track"></span><span class="knob"></span><span class="label">Veg</span>
          </button>
          <button id="nonvegSwitch" class="switch nonveg" role="switch" aria-checked="false" aria-label="Non-Veg">
            <span class="track"></span><span class="knob"></span><span class="label">Non-Veg</span>
          </button>

          <span class="divider" aria-hidden="true"></span>

          <!-- Navigation chips (smooth scroll only) -->
          <button id="courseToggle" class="pill-toggle course" aria-label="Go to Food Course">Food Course</button>
          <button id="categoryToggle" class="pill-toggle category" aria-label="Go to Food Categories">Food Categories</button>
        </div>

        <!-- Search (slightly shorter, soft-rect, icon on right) -->
        <div class="searchbar home">
          <input type="text" id="filter-search" placeholder="Search dishes‚Ä¶" aria-label="Search dishes"/>
          <button class="searchbtn" id="searchBtn" aria-label="Search"></button>
        </div>
      </div>

      <!-- Bifurcations (single-image square tiles) -->
      <div class="bucket-group" id="coursesSection">
        <div class="bucket-header">Food Courses</div>
        <div id="courseBuckets" class="bucket-grid" aria-label="Food Courses"></div>
      </div>

      <div class="bucket-group" id="categoriesSection">
        <div class="bucket-header">Food Categories</div>
        <div id="categoryBuckets" class="bucket-grid" aria-label="Food Categories"></div>
      </div>

      <!-- Global search results view (hidden until searching) -->
      <section id="globalResults" class="results hidden" aria-label="Search Results">
        <div class="topbar">
          <!-- Order: ‚Üê Back ¬∑ Veg switch ¬∑ Non-Veg switch ¬∑ Food Course ¬∑ Food Categories ¬∑ Search -->
          <button class="back-btn" data-action="back">‚Üê Back</button>
          <button class="switch veg" role="switch" aria-checked="false" data-action="veg">
            <span class="track"></span><span class="knob"></span><span class="label">Veg</span>
          </button>
          <button class="switch nonveg" role="switch" aria-checked="false" data-action="nonveg">
            <span class="track"></span><span class="knob"></span><span class="label">Non-Veg</span>
          </button>
          <button class="pill-toggle course nav" data-action="nav-course">Food Course</button>
          <button class="pill-toggle category nav" data-action="nav-category">Food Categories</button>
          <div class="searchbar compact">
            <input type="text" class="tile-search" placeholder="Search dishes‚Ä¶" aria-label="Search dishes"/>
            <button class="searchbtn" data-action="search" aria-label="Search"></button>
          </div>
        </div>
        <div id="globalResultsList" class="list-grid"></div>
      </section>
    </section>
  </main>

  <!-- Footer (kept intact for contact information) -->
  <footer id="contact">
    <p>üìç Address: Your restaurant address here</p>
    <p>üìû Phone: +91 99999 99999</p>
    <p>&copy; 2025 GUFA ‚Äì All Rights Reserved</p>
  </footer>

  <!-- No-JS message -->
  <noscript>
    <style>.menu-grid .placeholder{display:none}</style>
    <div style="max-width:1200px;margin:16px auto;padding:12px;background:#fff;border:1px solid #e5e7eb;border-radius:8px;">
      Please enable JavaScript to view the menu.
    </div>
  </noscript>

  <!-- Scripts (order matters) -->
  <script type="module" src="customer/firebase.client.js"></script>
  <script type="module" src="customer/app.cart.js"></script>
  <script type="module" src="customer/app.menu.js"></script>
  <script src="customer/cart.store.js"></script>
</body>
</html>
