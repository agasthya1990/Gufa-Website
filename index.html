<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>GUFA – Home</title>

  <!-- Brand font for GUFA -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700;800&display=swap" rel="stylesheet"/>

  <!-- Global styles (customer/styles.css uses ../images/background.jpg) -->
  <link rel="stylesheet" href="customer/styles.css"/>
</head>
<body>
  <!-- Header / Navbar -->
  <header class="site-header">
    <div class="logo">GUFA</div>
    <nav class="nav-links">
      <a href="index.html" class="active">Home</a>
      <a href="#menu">Menu</a>
      <a href="customer/track.html">Track Order</a>
      <a href="#contact">Contact</a>
      <a href="customer/checkout.html" class="cart-link" id="cartLink">Cart (0)</a>
    </nav>
  </header>

  <!-- Compact promo strip (optional; can be filled from Firestore) -->
  <section id="promos" aria-label="Promotions"></section>

  <!-- Menu -->
  <main>
    <section id="menu" aria-labelledby="menuTitle">
      <h2 id="menuTitle">Our Menu</h2>

      <!-- Primary toggles + Search (home bar) -->
      <div class="primary-bar" role="group" aria-label="Filters and Search">
        <div class="primary-filters">
          <button id="vegToggle" class="pill-toggle veg on" aria-pressed="true">Veg</button>
          <button id="nonvegToggle" class="pill-toggle nonveg on" aria-pressed="true">Non-Veg</button>
          <span class="divider" aria-hidden="true"></span>
          <button id="courseToggle" class="pill-toggle course" aria-pressed="false">Food Course</button>
          <button id="categoryToggle" class="pill-toggle category" aria-pressed="false">Food Categories</button>
        </div>

        <div class="searchbar">
          <input type="text" id="filter-search" placeholder="Search dishes…" aria-label="Search dishes"/>
          <button class="searchbtn" id="searchBtn" aria-label="Search"></button>
        </div>
      </div>

      <!-- Bifurcations (collages) -->
      <div class="bucket-group" id="coursesSection">
        <div class="bucket-header">Food Courses</div>
        <div id="courseBuckets" class="bucket-grid" aria-label="Food Courses"></div>
      </div>

      <div class="bucket-group" id="categoriesSection">
        <div class="bucket-header">Food Categories</div>
        <div id="categoryBuckets" class="bucket-grid" aria-label="Food Categories"></div>
      </div>

      <!-- Global search results view (hidden until searching) -->
      <section id="globalResults" class="results hidden" aria-label="Search Results">
        <div class="topbar">
          <button class="back-btn" id="backFromSearch">← Back</button>
          <button class="pill-toggle veg" id="vegToggleSearch">Veg</button>
          <button class="pill-toggle nonveg" id="nonvegToggleSearch">Non-Veg</button>
          <button class="pill-toggle course nav" id="courseNavSearch">Food Course</button>
          <button class="pill-toggle category nav" id="categoryNavSearch">Food Categories</button>
          <div class="searchbar compact">
            <input type="text" id="filter-search-searchView" placeholder="Search dishes…" aria-label="Search dishes"/>
            <button class="searchbtn" id="searchBtnSearchView" aria-label="Search"></button>
          </div>
        </div>
        <div id="globalResultsList" class="list-grid"></div>
      </section>
    </section>
  </main>

  <!-- Footer (kept intact for contact information) -->
  <footer id="contact">
    <p>📍 Address: Your restaurant address here</p>
    <p>📞 Phone: +91 99999 99999</p>
    <p>&copy; 2025 GUFA – All Rights Reserved</p>
  </footer>

  <!-- No-JS message -->
  <noscript>
    <style>.menu-grid .placeholder{display:none}</style>
    <div style="max-width:1200px;margin:16px auto;padding:12px;background:#fff;border:1px solid #e5e7eb;border-radius:8px;">
      Please enable JavaScript to view the menu.
    </div>
  </noscript>

  <!-- Scripts (order matters) -->
  <script type="module" src="customer/firebase.client.js"></script>
  <script type="module" src="customer/app.cart.js"></script>
  <script type="module" src="customer/app.menu.js"></script>
</body>
</html>
